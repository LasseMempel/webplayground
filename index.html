<!DOCTYPE html>
<html>
    <head>
    </head>
    <body>
        <form action="https://httpbin.org/post" method="post" enctype="multipart/form-data" id="fileForm">
            <input name="file" type="file" multiple id="changerino">
            <button type="submit">Upload</button>
        </form>

        <form action="https://httpbin.org/post" method="post" enctype="multipart/form-data", id="textForm">
            <input name="file" type="text" id="textInput" value="https://docs.google.com/spreadsheets/d/e/2PACX-1vQCho2k88nLWrNSXj4Mgj_MwER5GQ9zbZ0OsO3X_QPa9s-3UkoeLLQHuNHoFMKqCFjWMMprKVHMZzOj/pub?gid=0&single=true&output=csv">
            <button id="submitButton2" type="submit">Validieren</button>
        </form>
        <div id="result"></div>
    </body>
    <script>
        const fileForm = document.getElementById('fileForm');
        fileForm.addEventListener('submit', handleFileSubmit);

        const textForm = document.getElementById('textForm');
        textForm.addEventListener('submit', handleTextSubmit);

        function handleFileSubmit(event) {
            event.preventDefault();
            inputFileTest();
        }

        function handleTextSubmit(event) {
            event.preventDefault();
            fileFromUrlTest();
        }

        function inputFileTest() {
            const input = document.getElementById('changerino');
            const file = input.files[0];
            // red content of file
            const reader = new FileReader();
            reader.onload = function(e) {
                const text = e.target.result;
                writeFile(text);
            };
            const text = reader.readAsText(file);
            writeFile(text)
        }

        async function fileFromUrlTest() {
            const inputURL = document.getElementById('textInput').value;
            // fetch csv from google sheet link
            const response = await fetch(inputURL);
            // read content of file
            const reader = new FileReader();
            reader.onload = function(e) {
                const text = e.target.response;
                writeFile(text);
            };
            const text = reader.readAsText(file);
            writeFile(text)
        }

        function writeFile(data) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = data
        }

    </script>
</html>